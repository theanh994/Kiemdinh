<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::title}, ~{::main})}">
  <head>
    <title th:text="${course.id != null ? 'Cập nhật Học phần' : 'Thêm mới Học phần'}">
      Thêm mới Học phần
    </title>
  </head>
  <body>
    <main>
      <div class="container">
        <div class="card">
          <div class="card-body">
            <h2
              class="card-title mb-4"
              th:text="${course.id != null ? 'Cập nhật Học phần' : 'Thêm mới Học phần'}"
            >
              Thêm mới Học phần
            </h2>

            <div
              th:if="${message}"
              class="alert"
              th:classappend="${messageType == 'success'} ? 'alert-success' : 'alert-danger'"
            >
              <span th:text="${message}"></span>
            </div>

            <form
              th:action="@{${course.id != null ? '/courses/update/' + course.id : '/courses/save'}}"
              th:object="${course}"
              method="post"
            >
              <div class="mb-3">
                <label for="courseCode" class="form-label"
                  >Mã học phần <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="courseCode"
                  th:field="*{courseCode}"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="name" class="form-label"
                  >Tên học phần <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  th:field="*{name}"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="credits" class="form-label"
                  >Số tín chỉ <span class="text-danger">*</span></label
                >
                <input
                  type="number"
                  class="form-control"
                  id="credits"
                  th:field="*{credits}"
                  min="1"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="coefficient" class="form-label"
                  >Hệ số học phần <span class="text-danger">*</span></label
                >
                <input
                  type="number"
                  class="form-control"
                  id="coefficient"
                  th:field="*{coefficient}"
                  step="0.1"
                  min="0.1"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="periods" class="form-label"
                  >Số tiết học <span class="text-danger">*</span></label
                >
                <input
                  type="number"
                  class="form-control"
                  id="periods"
                  th:field="*{periods}"
                  min="1"
                  required
                />
              </div>

              <div class="d-flex justify-content-end gap-2">
                <a th:href="@{/courses}" class="btn btn-secondary">
                  <i class="bi bi-x-circle me-2"></i>Hủy
                </a>
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-check-circle me-2"></i>
                  <span
                    th:text="${course.id != null ? 'Cập nhật' : 'Lưu'}"
                  ></span>
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div th:replace="~{layout :: scripts}"></div>
  </body>
</html>
