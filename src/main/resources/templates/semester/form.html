<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      th:replace="~{layout :: layout(~{::title}, ~{::main})}">
  <head>
    <title th:text="${semester.id != null ? 'Cập nhật Kỳ học' : 'Thêm mới Kỳ học'}">
      Thêm mới Kỳ học
    </title>
  </head>
  <body>
    <main>
      <div class="container">
        <div class="card">
          <div class="card-body">
            <h2
              class="card-title mb-4"
              th:text="${semester.id != null ? 'Cập nhật Kỳ học' : 'Thêm mới Kỳ học'}"
            >
              Thêm mới Kỳ học
            </h2>

            <div
              th:if="${message}"
              class="alert"
              th:classappend="${messageType == 'success'} ? 'alert-success' : 'alert-danger'"
            >
              <span th:text="${message}"></span>
            </div>

            <form
              th:action="@{${semester.id != null ? '/semesters/update/' + semester.id : '/semesters/save'}}"
              th:object="${semester}"
              method="post"
            >
              <div class="mb-3">
                <label for="name" class="form-label"
                  >Tên kỳ học <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="name"
                  th:field="*{name}"
                  required
                />
              </div>              <div class="mb-3">
                <label for="academicYear" class="form-label"
                  >Năm học <span class="text-danger">*</span></label
                >
                <input
                  type="text"
                  class="form-control"
                  id="academicYear"
                  th:field="*{academicYear}"
                  placeholder="VD: 2024-2025"
                  pattern="[0-9]{4}-[0-9]{4}"
                  title="Năm học phải có định dạng YYYY-YYYY"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="startDate" class="form-label"
                  >Ngày bắt đầu <span class="text-danger">*</span></label
                >
                <input
                  type="date"
                  class="form-control"
                  id="startDate"
                  th:field="*{startDate}"
                  required
                />
              </div>

              <div class="mb-3">
                <label for="endDate" class="form-label"
                  >Ngày kết thúc <span class="text-danger">*</span></label
                >
                <input
                  type="date"
                  class="form-control"
                  id="endDate"
                  th:field="*{endDate}"
                  required
                />
              </div>

              <div class="d-flex justify-content-end gap-2">
                <a th:href="@{/semesters}" class="btn btn-secondary">
                  <i class="bi bi-x-circle me-2"></i>Hủy
                </a>
                <button type="submit" class="btn btn-primary">
                  <i class="bi bi-check-circle me-2"></i>Lưu
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>

    <div th:replace="~{layout :: scripts}"></div>
  </body>
</html>
